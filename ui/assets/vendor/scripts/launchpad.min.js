(function(){this.launchpad=this.launchpad||{},this.launchpadNamed=this.launchpadNamed||{};var t={};t["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},t.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},t.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},t.slicedToArray=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},function(){var e=function(){function e(){t.classCallCheck(this,e)}return e.abstractMethod=function(){throw Error("Unimplemented abstract method")},e.collectSuperClassesProperty=function(t,e){for(var n=[t[e]];t.__proto__&&!t.__proto__.isPrototypeOf(Function);)t=t.__proto__,n.push(t[e]);return n},e.getFunctionName=function(t){if(!t.name){var e=t.toString();t.name=e.substring(9,e.indexOf("("))}return t.name},e.getUid=function(t){return t?t[e.UID_PROPERTY]||(t[e.UID_PROPERTY]=e.uniqueIdCounter_++):e.uniqueIdCounter_++},e.identityFunction=function(t){return t},e.isBoolean=function(t){return"boolean"==typeof t},e.isDef=function(t){return void 0!==t},e.isDefAndNotNull=function(t){return e.isDef(t)&&!e.isNull(t)},e.isDocument=function(e){return e&&"object"===("undefined"==typeof e?"undefined":t["typeof"](e))&&9===e.nodeType},e.isElement=function(e){return e&&"object"===("undefined"==typeof e?"undefined":t["typeof"](e))&&1===e.nodeType},e.isFunction=function(t){return"function"==typeof t},e.isNull=function(t){return null===t},e.isNumber=function(t){return"number"==typeof t},e.isWindow=function(t){return null!==t&&t===t.window},e.isObject=function(e){var n="undefined"==typeof e?"undefined":t["typeof"](e);return"object"===n&&null!==e||"function"===n},e.isPromise=function(e){return e&&"object"===("undefined"==typeof e?"undefined":t["typeof"](e))&&"function"==typeof e.then},e.isString=function(t){return"string"==typeof t},e.mergeSuperClassesProperty=function(t,n,r){var i=n+"_MERGED";if(t.hasOwnProperty(i))return!1;var o=e.collectSuperClassesProperty(t,n);return r&&(o=r(o)),t[i]=o,!0},e.nullFunction=function(){},e}();e.UID_PROPERTY="core_"+(1e9*Math.random()>>>0),e.uniqueIdCounter_=1,this.launchpad.core=e}.call(this),function(){var e=this.launchpad.core,n=function(){function n(){t.classCallCheck(this,n)}return n.equal=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return t.length===e.length},n.firstDefinedValue=function(t){for(var e=0;e<t.length;e++)if(void 0!==t[e])return t[e]},n.flatten=function(t,e){for(var r=e||[],i=0;i<t.length;i++)Array.isArray(t[i])?n.flatten(t[i],r):r.push(t[i]);return r},n.remove=function(t,e){var r,i=t.indexOf(e);return(r=i>=0)&&n.removeAt(t,i),r},n.removeAt=function(t,e){return 1===Array.prototype.splice.call(t,e,1).length},n.slice=function(t,n,r){for(var i=[],o=e.isDef(r)?r:t.length,a=n;o>a;a++)i.push(t[a]);return i},n}();this.launchpad.array=n}.call(this),function(){var t={};t.throwException=function(e){t.nextTick(function(){throw e})},t.run=function(e,n){t.run.workQueueScheduled_||(t.nextTick(t.run.processWorkQueue),t.run.workQueueScheduled_=!0),t.run.workQueue_.push(new t.run.WorkItem_(e,n))},t.run.workQueueScheduled_=!1,t.run.workQueue_=[],t.run.processWorkQueue=function(){for(;t.run.workQueue_.length;){var e=t.run.workQueue_;t.run.workQueue_=[];for(var n=0;n<e.length;n++){var r=e[n];try{r.fn.call(r.scope)}catch(i){t.throwException(i)}}}t.run.workQueueScheduled_=!1},t.run.WorkItem_=function(t,e){this.fn=t,this.scope=e},t.nextTick=function(e,n){var r=e;return n&&(r=e.bind(n)),r=t.nextTick.wrapCallback_(r),"function"==typeof setImmediate?void setImmediate(r):(t.nextTick.setImmediate_||(t.nextTick.setImmediate_=t.nextTick.getSetImmediateEmulator_()),void t.nextTick.setImmediate_(r))},t.nextTick.setImmediate_=null,t.nextTick.getSetImmediateEmulator_=function(){var t;if("function"==typeof MessageChannel&&(t=MessageChannel),"undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(t=function(){var t=document.createElement("iframe");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,n=e.document;n.open(),n.write(""),n.close();var r="callImmediate"+Math.random(),i=e.location.protocol+"//"+e.location.host,o=function(t){(t.origin===i||t.data===r)&&this.port1.onmessage()}.bind(this);e.addEventListener("message",o,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(r,i)}}}),"undefined"!=typeof t){var e=new t,n={},r=n;return e.port1.onmessage=function(){n=n.next;var t=n.cb;n.cb=null,t()},function(t){r.next={cb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(t){var e=document.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){setTimeout(t,0)}},t.nextTick.wrapCallback_=function(t){return t},this.launchpad.async=t}.call(this),function(){var e=function(){function e(){t.classCallCheck(this,e),this.disposed_=!1}return e.prototype.dispose=function(){this.disposed_||(this.disposeInternal(),this.disposed_=!0)},e.prototype.disposeInternal=function(){},e.prototype.isDisposed=function(){return this.disposed_},e}();this.launchpad.Disposable=e}.call(this),function(){var e=this.launchpad.Disposable,n=function(e){function n(r,i,o){t.classCallCheck(this,n);var a=t.possibleConstructorReturn(this,e.call(this));return a.emitter_=r,a.event_=i,a.listener_=o,a}return t.inherits(n,e),n.prototype.disposeInternal=function(){this.removeListener(),this.emitter_=null,this.listener_=null},n.prototype.removeListener=function(){this.emitter_.isDisposed()||this.emitter_.removeListener(this.event_,this.listener_)},n}(e);n.prototype.registerMetalComponent&&n.prototype.registerMetalComponent(n,"EventHandle"),this.launchpad.EventHandle=n}.call(this),function(){var e=this.launchpad.core,n=this.launchpad.array,r=this.launchpad.Disposable,i=this.launchpad.EventHandle,o=function(r){function o(){t.classCallCheck(this,o);var e=t.possibleConstructorReturn(this,r.call(this));return e.events_=[],e.maxListeners_=10,e.shouldUseFacade_=!1,e}return t.inherits(o,r),o.prototype.addListener=function(t,e,n){this.validateListener_(e),t=this.normalizeEvents_(t);for(var r=0;r<t.length;r++)this.addSingleListener_(t[r],e,n);return new i(this,t,e)},o.prototype.addSingleListener_=function(t,e,n,r){this.emit("newListener",t,e),this.events_[t]||(this.events_[t]=[]),this.events_[t].push({"default":n,fn:e,origin:r});var i=this.events_[t];i.length>this.maxListeners_&&!i.warned&&(i.warned=!0)},o.prototype.disposeInternal=function(){this.events_=[]},o.prototype.emit=function(t){var e,r=n.slice(arguments,1),i=(this.events_[t]||[]).concat();this.getShouldUseFacade()&&(e={preventDefault:function(){e.preventedDefault=!0},target:this,type:t},r.push(e));for(var o=[],a=0;a<i.length;a++)i[a]["default"]?o.push(i[a]):i[a].fn.apply(this,r);if(!e||!e.preventedDefault)for(var s=0;s<o.length;s++)o[s].fn.apply(this,r);return"*"!==t&&this.emit.apply(this,["*",t].concat(r)),i.length>0},o.prototype.getShouldUseFacade=function(){return this.shouldUseFacade_},o.prototype.listeners=function(t){return(this.events_[t]||[]).map(function(t){return t.fn})},o.prototype.many=function(t,e,n){t=this.normalizeEvents_(t);for(var r=0;r<t.length;r++)this.many_(t[r],e,n);return new i(this,t,n)},o.prototype.many_=function(t,e,n){function r(){0===--e&&i.removeListener(t,r),n.apply(i,arguments)}var i=this;0>=e||i.addSingleListener_(t,r,!1,n)},o.prototype.matchesListener_=function(t,e){return t.fn===e||t.origin&&t.origin===e},o.prototype.normalizeEvents_=function(t){return e.isString(t)?[t]:t},o.prototype.off=function(t,e){this.validateListener_(e),t=this.normalizeEvents_(t);for(var n=0;n<t.length;n++){var r=this.events_[t[n]]||[];this.removeMatchingListenerObjs_(r,e)}return this},o.prototype.on=function(){return this.addListener.apply(this,arguments)},o.prototype.once=function(t,e){return this.many(t,1,e)},o.prototype.removeAllListeners=function(t){if(t)for(var e=this.normalizeEvents_(t),n=0;n<e.length;n++)this.events_[e[n]]=null;else this.events_={};return this},o.prototype.removeMatchingListenerObjs_=function(t,e){for(var n=t.length-1;n>=0;n--)this.matchesListener_(t[n],e)&&t.splice(n,1)},o.prototype.removeListener=function(){return this.off.apply(this,arguments)},o.prototype.setMaxListeners=function(t){return this.maxListeners_=t,this},o.prototype.setShouldUseFacade=function(t){return this.shouldUseFacade_=t,this},o.prototype.validateListener_=function(t){if(!e.isFunction(t))throw new TypeError("Listener must be a function")},o}(r);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"EventEmitter"),this.launchpad.EventEmitter=o}.call(this),function(){var e=this.launchpad.core,n=function(){function n(){t.classCallCheck(this,n)}return n.mixin=function(t){for(var e,n,r=1;r<arguments.length;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t},n.getObjectByName=function(t,n){for(var r,i=t.split("."),o=n||window;r=i.shift();){if(!e.isDefAndNotNull(o[r]))return null;o=o[r]}return o},n.map=function(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++)n[r[i]]=e(r[i],t[r[i]]);return n},n}();this.launchpad.object=n}.call(this),function(){var e=this.launchpad.EventHandle,n=function(e){function n(r,i,o,a){t.classCallCheck(this,n);var s=t.possibleConstructorReturn(this,e.call(this,r,i,o));return s.capture_=a,s}return t.inherits(n,e),n.prototype.removeListener=function(){this.emitter_.removeEventListener(this.event_,this.listener_,this.capture_)},n}(e);n.prototype.registerMetalComponent&&n.prototype.registerMetalComponent(n,"DomEventHandle"),this.launchpad.DomEventHandle=n}.call(this),function(){var e=this.launchpad.core,n=this.launchpad.object,r=this.launchpad.DomEventHandle,i=function(){function i(){t.classCallCheck(this,i)}return i.addClasses=function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?i.addClassesWithNative_(t,n):i.addClassesWithoutNative_(t,n))},i.addClassesWithNative_=function(t,e){e.split(" ").forEach(function(e){t.classList.add(e)})},i.addClassesWithoutNative_=function(t,e){var n=" "+t.className+" ",r="";e=e.split(" ");for(var i=0;i<e.length;i++){var o=e[i];-1===n.indexOf(" "+o+" ")&&(r+=" "+o)}r&&(t.className=t.className+r)},i.append=function(t,n){if(e.isString(n)&&(n=i.buildFragment(n)),n instanceof NodeList)for(var r=Array.prototype.slice.call(n),o=0;o<r.length;o++)t.appendChild(r[o]);else t.appendChild(n);return n},i.buildFragment=function(t){var e=document.createElement("div");e.innerHTML="<br>"+t,e.removeChild(e.firstChild);for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},i.contains=function(t,n){return e.isDocument(t)?t.documentElement.contains(n):t.contains(n)},i.delegate=function(t,e,n,r){var o=i.customEvents[e];return o&&o.delegate&&(e=o.originalEvent,r=o.handler.bind(o,r)),i.on(t,e,i.handleDelegateEvent_.bind(null,n,r))},i.enterDocument=function(t){i.append(document.body,t)},i.exitDocument=function(t){t.parentNode&&t.parentNode.removeChild(t)},i.handleDelegateEvent_=function(t,n,r){i.normalizeDelegateEvent_(r);for(var o=r.target,a=!0;o&&!r.stopped&&(e.isString(t)&&i.match(o,t)&&(r.delegateTarget=o,a&=n(r)),o!==r.currentTarget);)o=o.parentNode;return r.delegateTarget=null,a},i.hasClass=function(t,e){return"classList"in t?i.hasClassWithNative_(t,e):i.hasClassWithoutNative_(t,e)},i.hasClassWithNative_=function(t,e){return t.classList.contains(e)},i.hasClassWithoutNative_=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>=0},i.isEmpty=function(t){return 0===t.childNodes.length},i.match=function(t,e){if(!t||1!==t.nodeType)return!1;var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return r?r.call(t,e):i.matchFallback_(t,e)},i.matchFallback_=function(t,e){for(var n=document.querySelectorAll(e,t.parentNode),r=0;r<n.length;++r)if(n[r]===t)return!0;return!1},i.next=function(t,e){do if(t=t.nextSibling,t&&i.match(t,e))return t;while(t);return null},i.normalizeDelegateEvent_=function(t){t.stopPropagation=i.stopPropagation_,t.stopImmediatePropagation=i.stopImmediatePropagation_},i.on=function(t,n,o,a){if(e.isString(t))return i.delegate(document,n,t,o);var s=i.customEvents[n];return s&&s.event&&(n=s.originalEvent,o=s.handler.bind(s,o)),t.addEventListener(n,o,a),new r(t,n,o,a)},i.once=function(t,e,n){var r=this.on(t,e,function(){return r.removeListener(),n.apply(this,arguments)});return r},i.registerCustomEvent=function(t,e){i.customEvents[t]=e},i.removeChildren=function(t){for(var e;e=t.firstChild;)t.removeChild(e)},i.removeClasses=function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?i.removeClassesWithNative_(t,n):i.removeClassesWithoutNative_(t,n))},i.removeClassesWithNative_=function(t,e){e.split(" ").forEach(function(e){t.classList.remove(e)})},i.removeClassesWithoutNative_=function(t,e){var n=" "+t.className+" ";e=e.split(" ");for(var r=0;r<e.length;r++)n=n.replace(" "+e[r]+" "," ");t.className=n.trim()},i.replace=function(t,e){t&&e&&t!==e&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t))},i.stopImmediatePropagation_=function(){this.stopped=!0,Event.prototype.stopImmediatePropagation.call(this)},i.stopPropagation_=function(){this.stopped=!0,Event.prototype.stopPropagation.call(this)},i.supportsEvent=function(t,n){return i.customEvents[n]?!0:(e.isString(t)&&(o[t]||(o[t]=document.createElement(t)),t=o[t]),"on"+n in t)},i.toElement=function(t){return e.isElement(t)||e.isDocument(t)?t:e.isString(t)?"#"===t[0]&&-1===t.indexOf(" ")?document.getElementById(t.substr(1)):document.querySelector(t):null},i.toggleClasses=function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?i.toggleClassesWithNative_(t,n):i.toggleClassesWithoutNative_(t,n))},i.toggleClassesWithNative_=function(t,e){e.split(" ").forEach(function(e){t.classList.toggle(e)})},i.toggleClassesWithoutNative_=function(t,e){var n=" "+t.className+" ";e=e.split(" ");for(var r=0;r<e.length;r++){var i=" "+e[r]+" ",o=n.indexOf(i);n=-1===o?n+e[r]+" ":n.substring(0,o)+" "+n.substring(o+i.length)}t.className=n.trim()},i.triggerEvent=function(t,e,r){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),n.mixin(i,r),t.dispatchEvent(i)},i}(),o={};i.customEvents={},this.launchpad.dom=i}.call(this),function(){var e=this.launchpad.core,n=this.launchpad.dom,r=this.launchpad.Disposable,i=function(r){function i(e,n,o,a){t.classCallCheck(this,i);var s=t.possibleConstructorReturn(this,r.call(this));return s.blacklist_=o||{},s.originEmitter_=e,s.proxiedEvents_={},s.targetEmitter_=n,s.whitelist_=a,s.startProxy_(),s}return t.inherits(i,r),i.prototype.disposeInternal=function(){var t=this.originEmitter_.removeEventListener?"removeEventListener":"removeListener";for(var e in this.proxiedEvents_)this.originEmitter_[t](e,this.proxiedEvents_[e]);this.proxiedEvents_=null,this.originEmitter_=null,this.targetEmitter_=null},i.prototype.proxyEvent_=function(t){if(this.shouldProxyEvent_(t)){var r=this;this.proxiedEvents_[t]=function(){var e=[t].concat(Array.prototype.slice.call(arguments,0));r.targetEmitter_.emit.apply(r.targetEmitter_,e)},e.isElement(this.originEmitter_)||e.isDocument(this.originEmitter_)?n.on(this.originEmitter_,t,this.proxiedEvents_[t]):this.originEmitter_.on(t,this.proxiedEvents_[t])}},i.prototype.shouldProxyEvent_=function(t){return this.whitelist_&&!this.whitelist_[t]?!1:this.blacklist_[t]?!1:!this.proxiedEvents_[t]&&(!(this.originEmitter_.removeEventListener||this.originEmitter_.addEventListener)||n.supportsEvent(this.originEmitter_,t))},i.prototype.startProxy_=function(){this.targetEmitter_.on("newListener",this.proxyEvent_.bind(this))},i}(r);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"EventEmitterProxy"),this.launchpad.EventEmitterProxy=i}.call(this),function(){var e=this.launchpad.Disposable,n=function(e){function n(){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this));return r.eventHandles_=[],r}return t.inherits(n,e),n.prototype.add=function(){for(var t=0;t<arguments.length;t++)this.eventHandles_.push(arguments[t])},n.prototype.disposeInternal=function(){this.eventHandles_=null},n.prototype.removeAllListeners=function(){for(var t=0;t<this.eventHandles_.length;t++)this.eventHandles_[t].removeListener();this.eventHandles_=[]},n}(e);n.prototype.registerMetalComponent&&n.prototype.registerMetalComponent(n,"EventHandler"),this.launchpad.EventHandler=n}.call(this),function(){var e=function(){function e(){t.classCallCheck(this,e)}return e.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},e.hashCode=function(t){for(var e=0,n=0,r=t.length;r>n;n++)e=31*e+t.charCodeAt(n),e%=4294967296;return e},e.replaceInterval=function(t,e,n,r){return t.substring(0,e)+r+t.substring(n)},e}();this.launchpad.string=e}.call(this),function(){var t=this.launchpad.core,e=this.launchpad.array,n=this.launchpad.async,r=this.launchpad.Disposable,i=this.launchpad.EventEmitter,o=this.launchpad.EventEmitterProxy,a=this.launchpad.EventHandle,s=this.launchpad.EventHandler,u=this.launchpad.object,c=this.launchpad.string;this.launchpadNamed.index={},this.launchpadNamed.index.core=t,this.launchpadNamed.index.array=e,this.launchpadNamed.index.async=n,this.launchpadNamed.index.Disposable=r,this.launchpadNamed.index.EventEmitter=i,this.launchpadNamed.index.EventEmitterProxy=o,this.launchpadNamed.index.EventHandle=a,this.launchpadNamed.index.EventHandler=s,this.launchpadNamed.index.object=u,this.launchpadNamed.index.string=c}.call(this),function(){var e=this.launchpadNamed.index.core,n=function(){function n(r){var i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];t.classCallCheck(this,n),this.token_=e.isString(i)?null:r,this.username_=e.isString(i)?r:null,this.password_=i}return n.create=function(t,e){return new n(t,e)},n.prototype.hasPassword=function(){return null!==this.password_},n.prototype.hasToken=function(){return null!==this.token_},n.prototype.hasUsername=function(){return null!==this.username_},n.prototype.password=function(){return this.password_},n.prototype.token=function(){return this.token_},n.prototype.username=function(){return this.username_},n}();this.launchpad.Auth=n}.call(this),function(){var e=this.launchpadNamed.index.Disposable,n=function(e){function n(){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this));return r.keys={},r.values={},r}return t.inherits(n,e),n.prototype.add=function(t,e){return this.keys[t.toLowerCase()]=t,this.values[t.toLowerCase()]=this.values[t.toLowerCase()]||[],this.values[t.toLowerCase()].push(e),this},n.prototype.clear=function(){return this.keys={},this.values={},this},n.prototype.contains=function(t){return t.toLowerCase()in this.values},n.prototype.disposeInternal=function(){this.values=null},n.prototype.get=function(t){var e=this.values[t.toLowerCase()];return e?e[0]:void 0},n.prototype.getAll=function(t){return this.values[t.toLowerCase()]},n.prototype.isEmpty=function(){return 0===this.size()},n.prototype.names=function(){var t=this;return Object.keys(this.values).map(function(e){return t.keys[e]})},n.prototype.remove=function(t){return delete this.keys[t.toLowerCase()],delete this.values[t.toLowerCase()],this},n.prototype.set=function(t,e){return this.keys[t.toLowerCase()]=t,this.values[t.toLowerCase()]=[e],this},n.prototype.size=function(){return this.names().length},n.prototype.toString=function(){return JSON.stringify(this.values)},n}(e);n.prototype.registerMetalComponent&&n.prototype.registerMetalComponent(n,"MultiMap"),this.launchpad.MultiMap=n}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.MultiMap,r=function(){function r(){t.classCallCheck(this,r),this.headers_=new n}return r.prototype.body=function(t){return e.isDef(t)?(this.body_=t,this):this.body_},r.prototype.header=function(t,e){if(2!==arguments.length)throw new Error("Invalid arguments");return this.headers_.set(t,e),this},r.prototype.headers=function(t){return e.isDef(t)?(t instanceof n?this.headers_=t:this.headers_.values=t,t):this.headers_},r.prototype.removeBody=function(){this.body_=void 0},r}();this.launchpad.ClientMessage=r}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.ClientMessage,r=this.launchpad.MultiMap,i=function(n){function i(){t.classCallCheck(this,i);var e=t.possibleConstructorReturn(this,n.call(this));return e.params_=new r,e}return t.inherits(i,n),i.prototype.method=function(t){return e.isDef(t)?(this.method_=t,this):this.method_||i.DEFAULT_METHOD},i.prototype.param=function(t,e){if(2!==arguments.length)throw new Error("Invalid arguments");return this.params_.set(t,e),this},i.prototype.params=function(t){return e.isDef(t)?(t instanceof r?this.params_=t:this.params_.values=t,t):this.params_},i.prototype.url=function(t){return e.isDef(t)?(this.url_=t,this):this.url_},i}(n);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"ClientRequest"),i.DEFAULT_METHOD="GET",this.launchpad.ClientRequest=i}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.ClientMessage,r=function(n){function r(e){t.classCallCheck(this,r);var i=t.possibleConstructorReturn(this,n.call(this));if(!e)throw new Error("Can't create response without request");return i.clientRequest_=e,i}return t.inherits(r,n),r.prototype.request=function(){return this.clientRequest_},r.prototype.statusCode=function(t){return e.isDef(t)?(this.statusCode_=t,this):this.statusCode_},r.prototype.statusText=function(t){return e.isDef(t)?(this.statusText_=t,this):this.statusText_},r.prototype.succeeded=function(){return this.statusCode()>=200&&this.statusCode()<=399},r}(n);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"ClientResponse"),this.launchpad.ClientResponse=r}.call(this),function(){var e=function(){function e(){t.classCallCheck(this,e)}return e.encodeString=function(t){return"function"==typeof btoa?btoa(t):new Buffer(t.toString(),"binary")},e}();this.launchpad.Base64=e}.call(this),function(){var e=function(){function e(){t.classCallCheck(this,e),this.body_={}}return e.prototype.body=function(){return this.body_},e.toBody=function(t){return t instanceof e?t.body():t},e.prototype.toString=function(){return JSON.stringify(this.body())},e}();this.launchpad.Embodied=e}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.Embodied,r=function(){function r(i,o,a){t.classCallCheck(this,r);var s={operator:e.isDef(a)?o:"="},u=e.isDef(a)?a:o;e.isDefAndNotNull(u)&&(u instanceof n&&(u=u.body()),s.value=u),this.createBody_(i,s)}return r.prototype.add=function(t,e){e?this.addArrayOperator_(t,e):this.createBody_(t,this.body_)},r.prototype.addArrayOperator_=function(t,e){this.body_[t]instanceof Array||this.createBody_(t,[this.body_]),this.body_[t].push(e.body())},r.prototype.addMany=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];for(var i=0;i<n.length;i++)this.add(t,n[i])},r.prototype.createBody_=function(t,e){this.body_={},this.body_[t]=e},r.prototype.getObject=function(){return this.body_},r}();this.launchpad.FilterBody=r}.call(this),function(){var e=this.launchpad.Embodied,n=function(){function e(){t.classCallCheck(this,e)}return e.boundingBox=function(t,n){return new e.BoundingBox(t,n)},e.circle=function(t,n){return new e.Circle(t,n)},e.line=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e.Line,[null].concat(n)))},e.point=function(t,n){return new e.Point(t,n)},e.polygon=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e.Polygon,[null].concat(n)))},e}(),r=function(e){function n(r,i){t.classCallCheck(this,n);var o=t.possibleConstructorReturn(this,e.call(this));return o.body_=[r,i],o}return t.inherits(n,e),n}(e);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"Point"),n.Point=r;var i=function(n){function r(){t.classCallCheck(this,r);for(var i=t.possibleConstructorReturn(this,n.call(this)),o=arguments.length,a=Array(o),s=0;o>s;s++)a[s]=arguments[s];return i.body_={type:"linestring",coordinates:a.map(function(t){return e.toBody(t)})},i}return t.inherits(r,n),r}(e);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"Line"),n.Line=i;var o=function(n){function r(i,o){t.classCallCheck(this,r);var a=t.possibleConstructorReturn(this,n.call(this));return a.body_={type:"envelope",coordinates:[e.toBody(i),e.toBody(o)]},a}return t.inherits(r,n),r.prototype.getPoints=function(){return this.body_.coordinates},r}(e);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"BoundingBox"),n.BoundingBox=o;var a=function(n){function r(i,o){t.classCallCheck(this,r);var a=t.possibleConstructorReturn(this,n.call(this));return a.body_={type:"circle",coordinates:e.toBody(i),radius:o},a}return t.inherits(r,n),r.prototype.getCenter=function(){return this.body_.coordinates},r.prototype.getRadius=function(){return this.body_.radius},r}(e);a.prototype.registerMetalComponent&&a.prototype.registerMetalComponent(a,"Circle"),n.Circle=a;var s=function(n){function r(){t.classCallCheck(this,r);var e=t.possibleConstructorReturn(this,n.call(this));return e.body_={type:"polygon",coordinates:[]},e.addCoordinates_.apply(e,arguments),e}return t.inherits(r,n),r.prototype.addCoordinates_=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this.body_.coordinates.push(n.map(function(t){return e.toBody(t)}))},r.prototype.hole=function(){return this.addCoordinates_.apply(this,arguments),this},r}(e);s.prototype.registerMetalComponent&&s.prototype.registerMetalComponent(s,"Polygon"),n.Polygon=s,this.launchpad.Geo=n}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.Embodied,r=function(n){function r(i,o){t.classCallCheck(this,r);var a=t.possibleConstructorReturn(this,n.call(this));return e.isDefAndNotNull(i)&&(a.body_.from=i),e.isDefAndNotNull(o)&&(a.body_.to=o),a}return t.inherits(r,n),r.from=function(t){return new r(t)},r.range=function(t,e){return new r(t,e)},r.to=function(t){return new r(null,t)},r}(n);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"Range"),this.launchpad.Range=r}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.Embodied,r=this.launchpad.FilterBody,i=this.launchpad.Geo,o=this.launchpad.Range,a=function(a){function s(e,n,i){t.classCallCheck(this,s);var o=t.possibleConstructorReturn(this,a.call(this));return o.body_=new r(e,n,i),o}return t.inherits(s,a),s.prototype.add=function(t,e,n,r){var i=e?s.toFilter(e,n,r):null;return this.body_.add(t,i),this},s.prototype.addMany=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];return(e=this.body_).addMany.apply(e,[t].concat(r)),this},s.prototype.and=function(t,e,n){return this.add("and",t,e,n)},s.any=function(t){var e=Array.prototype.slice.call(arguments,1);return 1===e.length&&e[0]instanceof Array&&(e=e[0]),new s(t,"any",e)},s.boundingBox=function(e,n,r){return n instanceof i.BoundingBox?s.polygon.apply(s,[e].concat(t.toConsumableArray(n.getPoints()))):s.polygon(e,n,r)},s.prototype.body=function(){return this.body_.getObject()},s.distance=function(t,e,n){var r=e,a=n;return e instanceof i.Circle?(r=e.getCenter(),a=o.to(e.getRadius())):n instanceof o||(a=o.to(n)),s.distanceInternal_(t,r,a)},s.distanceInternal_=function(t,e,r){var i={location:n.toBody(e)};return r=r.body(),r.from&&(i.min=r.from),r.to&&(i.max=r.to),s.field(t,"gd",i)},s.equal=function(t,e){return new s(t,"=",e)},s.exists=function(t){return s.field(t,"exists",null)},s.fuzzy=function(t,e,n){return s.fuzzyInternal_("fuzzy",t,e,n)},s.fuzzyInternal_=function(t,n,r,i){var o=e.isString(r),a={query:o?r:n},u=o?i:r;u&&(a.fuzziness=u);var c=o?n:s.ALL;return s.field(c,t,a)},s.gt=function(t,e){return new s(t,">",e)},s.gte=function(t,e){return new s(t,">=",e)},s.match=function(t,n){var r=e.isString(n)?t:s.ALL,i=e.isString(n)?n:t;return s.field(r,"match",i)},s.missing=function(t){return s.field(t,"missing",null)},s.phrase=function(t,n){var r=e.isString(n)?t:s.ALL,i=e.isString(n)?n:t;return s.field(r,"phrase",i)},s.polygon=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;e>i;i++)r[i-1]=arguments[i];return r=r.map(function(t){return n.toBody(t)}),s.field(t,"gp",r)},s.prefix=function(t,e){var n=e?t:s.ALL,r=e?e:t;return s.field(n,"prefix",r)},s.range=function u(t,e,n){var u=e;return u instanceof o||(u=o.range(e,n)),s.field(t,"range",u)},s.regex=function(t,e){return new s(t,"~",e)},s.shape=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;e>i;i++)r[i-1]=arguments[i];r=r.map(function(t){return n.toBody(t)});var o={type:"geometrycollection",geometries:r};return s.field(t,"gs",o)},s.similar=function(t,n){var r=e.isString(n)?t:s.ALL,i={query:e.isString(n)?n:t};return s.field(r,"similar",i)},s.lt=function(t,e){return new s(t,"<",e)},s.lte=function(t,e){return new s(t,"<=",e)},s.none=function(t){var e=Array.prototype.slice.call(arguments,1);return 1===e.length&&e[0]instanceof Array&&(e=e[0]),new s(t,"none",e)},s.notEqual=function(t,e){return new s(t,"!=",e)},s.not=function(t,e,n){return s.toFilter(t,e,n).add("not")},s.field=function(t,e,n){return new s(t,e,n)},s.prototype.or=function(t,e,n){return this.add("or",t,e,n)},s.toFilter=function(t,e,n){var r=t;return r instanceof s||(r=s.field(t,e,n)),r},s}(n);a.prototype.registerMetalComponent&&a.prototype.registerMetalComponent(a,"Filter"),a.ALL="*",this.launchpad.Filter=a}.call(this),function(){var e=this.launchpad.Embodied,n=this.launchpad.Range,r=function(){function e(n,r,i){t.classCallCheck(this,e),this.field_=n,this.operator_=r,this.value_=i}return e.avg=function(t){return e.field(t,"avg")},e.count=function(t){return e.field(t,"count")},e.distance=function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;r>o;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e.DistanceAggregation,[null].concat([t,n],i)))},e.extendedStats=function(t){return e.field(t,"extendedStats")},e.prototype.getField=function(){return this.field_},e.prototype.getOperator=function(){return this.operator_},e.prototype.getValue=function(){return this.value_},e.histogram=function(t,n){return new e(t,"histogram",n)},e.max=function(t){return e.field(t,"max")},e.min=function(t){return e.field(t,"min")},e.missing=function(t){return e.field(t,"missing")},e.field=function(t,n){return new e(t,n)},e.range=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];return new(Function.prototype.bind.apply(e.RangeAggregation,[null].concat([t],r)))},e.stats=function(t){return e.field(t,"stats")},e.sum=function(t){return e.field(t,"sum")},e.terms=function(t){return e.field(t,"terms")},e;
}(),i=function(r){function i(n,o){t.classCallCheck(this,i);var a=t.possibleConstructorReturn(this,r.call(this,n,"geoDistance",{}));a.value_.location=e.toBody(o);for(var s=arguments.length,u=Array(s>2?s-2:0),c=2;s>c;c++)u[c-2]=arguments[c];return a.value_.ranges=u.map(function(t){return t.body()}),a}return t.inherits(i,r),i.prototype.range=function o(t,e){var o=t;return o instanceof n||(o=n.range(t,e)),this.value_.ranges.push(o.body()),this},i.prototype.unit=function(t){return this.value_.unit=t,this},i}(r);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"DistanceAggregation"),r.DistanceAggregation=i;var o=function(e){function r(n){t.classCallCheck(this,r);for(var i=t.possibleConstructorReturn(this,e.call(this,n,"range")),o=arguments.length,a=Array(o>1?o-1:0),s=1;o>s;s++)a[s-1]=arguments[s];return i.value_=a.map(function(t){return t.body()}),i}return t.inherits(r,e),r.prototype.range=function i(t,e){var i=t;return i instanceof n||(i=n.range(t,e)),this.value_.push(i.body()),this},r}(r);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"RangeAggregation"),r.RangeAggregation=o,this.launchpad.Aggregation=r}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.Embodied,r=this.launchpad.Filter,i=this.launchpad.Aggregation,o=function(n){function o(){return t.classCallCheck(this,o),t.possibleConstructorReturn(this,n.apply(this,arguments))}return t.inherits(o,n),o.aggregate=function(t,e,n){return(new o).aggregate(t,e,n)},o.count=function(){return(new o).type("count")},o.fetch=function(){return(new o).type("fetch")},o.filter=function(t,e,n){return(new o).filter(t,e,n)},o.offset=function(t){return(new o).offset(t)},o.highlight=function(t){return(new o).highlight(t)},o.limit=function(t){return(new o).limit(t)},o.search=function(t,e,n){return(new o).search(t,e,n)},o.sort=function(t,e){return(new o).sort(t,e)},o.type=function(t){return(new o).type(t)},o.prototype.aggregate=function(t,n,r){var o=n;o instanceof i||(o=i.field(n,r));var a=o.getField(),s={};return s[a]={name:t,operator:o.getOperator()},e.isDefAndNotNull(o.getValue())&&(s[a].value=o.getValue()),this.body_.aggregation||(this.body_.aggregation=[]),this.body_.aggregation.push(s),this},o.prototype.count=function(){return this.type("count")},o.prototype.fetch=function(){return this.type("fetch")},o.prototype.filter=function a(t,e,n){var a=r.toFilter(t,e,n);return this.body_.filter||(this.body_.filter=[]),this.body_.filter.push(a.body()),this},o.prototype.offset=function(t){return this.body_.offset=t,this},o.prototype.highlight=function(t){return this.body_.highlight||(this.body_.highlight=[]),this.body_.highlight.push(t),this},o.prototype.limit=function(t){return this.body_.limit=t,this},o.prototype.search=function(t,e,n){var i=t;return n?i=r.field(t,e,n):e?i=r.match(t,e):i instanceof r||(i=r.match(t)),this.body_.search||(this.body_.search=[]),this.body_.search.push(i.body()),this},o.prototype.sort=function(t,e){this.body_.sort||(this.body_.sort=[]);var n={};return n[t]=e||"asc",this.body_.sort.push(n),this},o.prototype.type=function(t){return this.body_.type=t,this},o}(n);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"Query"),this.launchpad.Query=o}.call(this),function(){var e,n=this.launchpadNamed.index.core,r=this.launchpad.MultiMap,i=function(){function i(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];t.classCallCheck(this,i),this.url=i.parse(this.maybeAddProtocolAndHostname_(e))}return i.prototype.addParametersFromMultiMap=function(t){var e=this;return t.names().forEach(function(n){t.getAll(n).forEach(function(t){e.addParameterValue(n,t)})}),this},i.prototype.addParameterValue=function(t,e){return this.ensureQueryInitialized_(),n.isDef(e)&&(e=String(e)),this.query.add(t,e),this},i.prototype.addParameterValues=function(t,e){var n=this;return e.forEach(function(e){return n.addParameterValue(t,e)}),this},i.prototype.ensureQueryInitialized_=function(){var e=this;if(!this.query){this.query=new r;var i=this.url.search;i&&i.substring(1).split("&").forEach(function(r){var i=r.split("="),o=t.slicedToArray(i,2),a=o[0],s=o[1];n.isDef(s)&&(s=decodeURIComponent(s)),e.addParameterValue(a,s)})}},i.prototype.getHash=function(){return this.url.hash||""},i.prototype.getHost=function(){var t=this.getHostname();if(t){var e=this.getPort();e&&(t+=":"+e)}return t},i.prototype.getHostname=function(){var t=this.url.hostname;return t===i.HOSTNAME_PLACEHOLDER?"":t},i.prototype.getOrigin=function(){var t=this.getHost();return t?this.getProtocol()+"//"+t:""},i.prototype.getParameterValue=function(t){return this.ensureQueryInitialized_(),this.query.get(t)},i.prototype.getParameterValues=function(t){return this.ensureQueryInitialized_(),this.query.getAll(t)},i.prototype.getParameterNames=function(){return this.ensureQueryInitialized_(),this.query.names()},i.prototype.getPassword=function(){return this.url.password},i.prototype.getPathname=function(){return this.url.pathname},i.prototype.getPort=function(){return this.url.port},i.prototype.getProtocol=function(){return this.url.protocol},i.prototype.getSearch=function(){var t=this,e="",r="";return this.getParameterNames().forEach(function(e){t.getParameterValues(e).forEach(function(t){r+=e,n.isDef(t)&&(r+="="+encodeURIComponent(t)),r+="&"})}),r=r.slice(0,-1),r&&(e+="?"+r),e},i.prototype.getUsername=function(){return this.url.username},i.prototype.maybeAddProtocolAndHostname_=function(t){var e=t;if(-1===t.indexOf("://"))switch(e=i.DEFAULT_PROTOCOL+"//",t.charAt(0)){case".":case"?":case"#":e+=i.HOSTNAME_PLACEHOLDER,e+="/",e+=t;break;case"":case"/":e+=i.HOSTNAME_PLACEHOLDER,e+=t;break;default:e+=t}return e},i.parse=function(t){return e||(e=function(t){return new URL(t)}),e(t)},i.prototype.removeParameter=function(t){return this.ensureQueryInitialized_(),this.query.remove(t),this},i.prototype.setHash=function(t){return this.url.hash=t,this},i.prototype.setHostname=function(t){return this.url.hostname=t,this},i.prototype.setParameterValue=function(t,e){return this.removeParameter(t),this.addParameterValue(t,e),this},i.prototype.setParameterValues=function(t,e){var n=this;return this.removeParameter(t),e.forEach(function(e){return n.addParameterValue(t,e)}),this},i.prototype.setPassword=function(t){return this.url.password=t,this},i.prototype.setPathname=function(t){return this.url.pathname=t,this},i.prototype.setPort=function(t){return this.url.port=t,this},i.setParseFn=function(t){e=t},i.prototype.setProtocol=function(t){return this.url.protocol=t,this},i.prototype.setUsername=function(t){return this.url.username=t,this},i.prototype.toString=function(){var t="",e=this.getHost();if(e){t+=this.getProtocol()+"//";var n=this.getUsername(),r=this.getPassword();n&&r&&(t+=n+":"+r+"@")}return t+=e+this.getPathname()+this.getSearch()+this.getHash()},i.joinPaths=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),n=n.map(function(t){return"/"===t.charAt(0)?t.substring(1):t}),[t].concat(n).join("/").replace(/\/$/,"")},i}();i.DEFAULT_PROTOCOL="http:",i.HOSTNAME_PLACEHOLDER="hostname"+Date.now(),this.launchpad.Uri=i}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpadNamed.index.async,r=function(){};r.prototype.then=function(){},r.IMPLEMENTED_BY_PROP="$goog_Thenable",r.addImplementation=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},r.isImplementedBy=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}};var i=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}},o=function a(t,e){this.state_=a.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.executing_=!1,a.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0===a.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);try{var n=this;t.call(e,function(t){n.resolve_(a.State_.FULFILLED,t)},function(t){n.resolve_(a.State_.REJECTED,t)})}catch(r){this.resolve_(a.State_.REJECTED,r)}};o.UNHANDLED_REJECTION_DELAY=0,o.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},o.CallbackEntry_=null,o.resolve=function(t){return new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.length||e(void 0);for(var r,i=0;r=t[i];i++)r.then(e,n)})},o.all=function(t){return new o(function(e,n){var r=t.length,o=[];if(!r)return void e(o);for(var a,s=function(t,n){r--,o[t]=n,0===r&&e(o)},u=function(t){n(t)},c=0;a=t[c];c++)a.then(i(s,c),u)})},o.firstFulfilled=function(t){return new o(function(e,n){var r=t.length,o=[];if(!r)return void e(void 0);for(var a,s=function(t){e(t)},u=function(t,e){r--,o[t]=e,0===r&&n(o)},c=0;a=t[c];c++)a.then(s,i(u,c))})},o.prototype.then=function(t,n,r){return this.addChildPromise_(e.isFunction(t)?t:null,e.isFunction(n)?n:null,r)},r.addImplementation(o),o.prototype.thenAlways=function(t,e){var n=function(){try{t.call(e)}catch(n){o.handleRejection_.call(null,n)}};return this.addCallbackEntry_({child:null,onRejected:n,onFulfilled:n}),this},o.prototype.thenCatch=function(t,e){return this.addChildPromise_(null,t,e)},o.prototype["catch"]=o.prototype.thenCatch,o.prototype.cancel=function(t){this.state_===o.State_.PENDING&&n.run(function(){var e=new o.CancellationError(t);e.IS_CANCELLATION_ERROR=!0,this.cancelInternal_(e)},this)},o.prototype.cancelInternal_=function(t){this.state_===o.State_.PENDING&&(this.parent_?this.parent_.cancelChild_(this,t):this.resolve_(o.State_.REJECTED,t))},o.prototype.cancelChild_=function(t,e){if(this.callbackEntries_){for(var n,r=0,i=-1,a=0;n=this.callbackEntries_[a];a++){var s=n.child;if(s&&(r++,s===t&&(i=a),i>=0&&r>1))break}if(i>=0)if(this.state_===o.State_.PENDING&&1===r)this.cancelInternal_(e);else{var u=this.callbackEntries_.splice(i,1)[0];this.executeCallback_(u,o.State_.REJECTED,e)}}},o.prototype.addCallbackEntry_=function(t){this.callbackEntries_&&this.callbackEntries_.length||this.state_!==o.State_.FULFILLED&&this.state_!==o.State_.REJECTED||this.scheduleCallbacks_(),this.callbackEntries_||(this.callbackEntries_=[]),this.callbackEntries_.push(t)},o.prototype.addChildPromise_=function(t,n,r){var i={child:null,onFulfilled:null,onRejected:null};return i.child=new o(function(o,a){i.onFulfilled=t?function(e){try{var n=t.call(r,e);o(n)}catch(i){a(i)}}:o,i.onRejected=n?function(t){try{var i=n.call(r,t);!e.isDef(i)&&t.IS_CANCELLATION_ERROR?a(t):o(i)}catch(s){a(s)}}:a}),i.child.parent_=this,this.addCallbackEntry_(i),i.child},o.prototype.unblockAndFulfill_=function(t){if(this.state_!==o.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=o.State_.PENDING,this.resolve_(o.State_.FULFILLED,t)},o.prototype.unblockAndReject_=function(t){if(this.state_!==o.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=o.State_.PENDING,this.resolve_(o.State_.REJECTED,t)},o.prototype.resolve_=function(t,n){if(this.state_===o.State_.PENDING){if(this===n)t=o.State_.REJECTED,n=new TypeError("CancellablePromise cannot resolve to itself");else{if(r.isImplementedBy(n))return n=n,this.state_=o.State_.BLOCKED,void n.then(this.unblockAndFulfill_,this.unblockAndReject_,this);if(e.isObject(n))try{var i=n.then;if(e.isFunction(i))return void this.tryThen_(n,i)}catch(a){t=o.State_.REJECTED,n=a}}this.result_=n,this.state_=t,this.scheduleCallbacks_(),t!==o.State_.REJECTED||n.IS_CANCELLATION_ERROR||o.addUnhandledRejection_(this,n)}},o.prototype.tryThen_=function(t,e){this.state_=o.State_.BLOCKED;var n=this,r=!1,i=function(t){r||(r=!0,n.unblockAndFulfill_(t))},a=function(t){r||(r=!0,n.unblockAndReject_(t))};try{e.call(t,i,a)}catch(s){a(s)}},o.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,n.run(this.executeCallbacks_,this))},o.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var t=this.callbackEntries_;this.callbackEntries_=[];for(var e=0;e<t.length;e++)this.executeCallback_(t[e],this.state_,this.result_)}this.executing_=!1},o.prototype.executeCallback_=function(t,e,n){e===o.State_.FULFILLED?t.onFulfilled(n):(this.removeUnhandledRejection_(),t.onRejected(n))},o.prototype.removeUnhandledRejection_=function(){var t;if(o.UNHANDLED_REJECTION_DELAY>0)for(t=this;t&&t.unhandledRejectionId_;t=t.parent_)clearTimeout(t.unhandledRejectionId_),t.unhandledRejectionId_=0;else if(0===o.UNHANDLED_REJECTION_DELAY)for(t=this;t&&t.hadUnhandledRejection_;t=t.parent_)t.hadUnhandledRejection_=!1},o.addUnhandledRejection_=function(t,e){o.UNHANDLED_REJECTION_DELAY>0?t.unhandledRejectionId_=setTimeout(function(){o.handleRejection_.call(null,e)},o.UNHANDLED_REJECTION_DELAY):0===o.UNHANDLED_REJECTION_DELAY&&(t.hadUnhandledRejection_=!0,n.run(function(){t.hadUnhandledRejection_&&o.handleRejection_.call(null,e)}))},o.handleRejection_=n.throwException,o.setUnhandledRejectionHandler=function(t){o.handleRejection_=t},o.CancellationError=function(e){function n(r){t.classCallCheck(this,n);var i=t.possibleConstructorReturn(this,e.call(this,r));return r&&(i.message=r),i}return t.inherits(n,e),n}(Error),o.CancellationError.prototype.name="cancel",this.launchpadNamed.Promise={},this.launchpadNamed.Promise.CancellablePromise=o,this.launchpad.Promise=o}.call(this),function(){var e=this.launchpadNamed.index.core,n=this.launchpad.Uri,r=this.launchpadNamed.Promise.CancellablePromise,i=function(){function i(){t.classCallCheck(this,i)}return i.parseResponseHeaders=function(t){var e=[];if(!t)return e;for(var n=t.split("\r\n"),r=0;r<n.length;r++){var i=n[r].indexOf(": ");if(i>0){var o=n[r].substring(0,i),a=n[r].substring(i+2);e.push({name:o,value:a})}}return e},i.request=function o(t,i,a,s,u,c,l){var o=new XMLHttpRequest,h=new r(function(t,e){o.onload=function(){return o.aborted?void o.onerror():void t(o)},o.onerror=function(){var t=new Error("Request error");t.request=o,e(t)}}).thenCatch(function(t){throw o.abort(),t}).thenAlways(function(){clearTimeout(p)});if(u&&(t=new n(t).addParametersFromMultiMap(u).toString()),o.open(i,t,!l),s&&s.names().forEach(function(t){o.setRequestHeader(t,s.getAll(t).join(", "))}),o.send(e.isDef(a)?a:null),e.isDefAndNotNull(c))var p=setTimeout(function(){h.cancel("Request timeout")},c);return h},i}();this.launchpad.Ajax=i}.call(this),function(){var e=function(){function e(){t.classCallCheck(this,e)}return e.prototype.send=function(){},e}();this.launchpad.Transport=e}.call(this),function(){var e=this.launchpad.Ajax,n=this.launchpad.Transport,r=this.launchpad.ClientResponse,i=function(n){function i(){return t.classCallCheck(this,i),t.possibleConstructorReturn(this,n.apply(this,arguments))}return t.inherits(i,n),i.prototype.send=function(t){var n=e.request(t.url(),t.method(),t.body(),t.headers(),t.params(),null,!1);return n.then(function(n){var i=new r(t);return i.body(n.responseText),i.statusCode(n.status),i.statusText(n.statusText),e.parseResponseHeaders(n.getAllResponseHeaders()).forEach(function(t){i.header(t.name,t.value)}),i})},i}(n);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"AjaxTransport"),this.launchpad.AjaxTransport=i}.call(this),function(){var e=this.launchpad.AjaxTransport,n=function(){function e(){t.classCallCheck(this,e),this.transports={},this.transports[e.DEFAULT_TRANSPORT_NAME]=e[e.DEFAULT_TRANSPORT_NAME]}return e.instance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.get=function(t){var e=this.transports[t];if(!e)throw new Error("Invalid transport name: "+t);try{return new e}catch(n){throw new Error("Can't create transport",n)}},e.prototype.getDefault=function(){return this.get(e.DEFAULT_TRANSPORT_NAME)},e}();n.DEFAULT_TRANSPORT_NAME="default",n[n.DEFAULT_TRANSPORT_NAME]=e,this.launchpad.TransportFactory=n}.call(this),function(){var e,n=this.launchpadNamed.index.core,r=this.launchpad.Auth,i=this.launchpad.Base64,o=this.launchpad.Embodied,a=this.launchpad.Filter,s=this.launchpad.Query,u=this.launchpad.TransportFactory,c=this.launchpad.ClientRequest,l=this.launchpad.MultiMap,h=this.launchpad.Uri;"undefined"!=typeof window&&(e=window.io);var p=function(){function p(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];if(t.classCallCheck(this,p),0===arguments.length)throw new Error("Invalid arguments, try `new Launchpad(baseUrl, url)`");this.auth_=null,this.body_=null,this.url_=h.joinPaths.apply(h,[e||""].concat(r)),this.headers_=new l,this.params_=new l,this.header("Content-Type","application/json"),this.header("X-PJAX","true"),this.header("X-Requested-With","XMLHttpRequest")}return p.prototype.aggregate=function(t,e,n){return this.getOrCreateQuery_().aggregate(t,e,n),this},p.prototype.auth=function(t,e){return this.auth_=t,this.auth_ instanceof r||(this.auth_=r.create(t,e)),this},p.prototype.body=function(t){return this.body_=t,this},p.prototype.convertBodyToParams_=function(t,e){n.isString(e)?e={body:e}:e instanceof o&&(e=e.body()),Object.keys(e||{}).forEach(function(n){return t.param(n,e[n])})},p.prototype.count=function(){return this.getOrCreateQuery_().type("count"),this},p.prototype.createClientRequest_=function(t,e){var r=new c;return r.body(e||this.body_),n.isDefAndNotNull(r.body())||(this.query_?r.body(this.query_.body()):this.formData_&&r.body(this.formData_)),r.method(t),r.headers(this.headers()),r.params(this.params()),r.url(this.url()),this.encode(r),r},p.prototype.decode=function(t){if(p.isContentTypeJson(t))try{t.body(JSON.parse(t.body()))}catch(e){}return t},p.prototype["delete"]=function(t){return this.sendAsync("DELETE",t)},p.prototype.encode=function(t){var e=t.body();return n.isElement(e)&&(e=new FormData(e),t.body(e)),e=this.wrapWithQuery_(e),"GET"===t.method()&&(this.convertBodyToParams_(t,e),t.removeBody(),e=null),"undefined"!=typeof FormData&&e instanceof FormData?t.headers().remove("content-type"):e instanceof o?t.body(e.toString()):p.isContentTypeJson(t)&&t.body(JSON.stringify(t.body())),this.encodeParams_(t),this.resolveAuthentication_(t),t},p.prototype.encodeParams_=function(t){var e=t.params();e.names().forEach(function(t){var r=e.getAll(t);r.forEach(function(t,e){t instanceof o?t=t.toString():(n.isObject(t)||t instanceof Array)&&(t=JSON.stringify(t)),r[e]=t})})},p.prototype.filter=function(t,e,n){return this.getOrCreateQuery_().filter(t,e,n),this},p.prototype.form=function(t,e){if("undefined"==typeof FormData)throw new Error("form() is only available when FormData API is available.");return this.formData_||(this.formData_=new FormData),this.formData_.append(t,e),this},p.prototype.get=function(t){return this.sendAsync("GET",t)},p.prototype.getOrCreateQuery_=function(){return this.query_||(this.query_=new s),this.query_},p.prototype.header=function(t,e){if(2!==arguments.length)throw new Error("Invalid arguments");return this.headers_.set(t,e),this},p.prototype.headers=function(){return this.headers_},p.prototype.highlight=function(t){return this.getOrCreateQuery_().highlight(t),this},p.prototype.limit=function(t){return this.getOrCreateQuery_().limit(t),this},p.prototype.offset=function(t){return this.getOrCreateQuery_().offset(t),this},p.prototype.param=function(t,e){if(2!==arguments.length)throw new Error("Invalid arguments");return this.params_.set(t,e),this},p.prototype.params=function(){return this.params_},p.prototype.patch=function(t){return this.sendAsync("PATCH",t)},p.prototype.path=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return(new(Function.prototype.bind.apply(p,[null].concat([this.url()],e)))).use(this.customTransport_)},p.prototype.post=function(t){return this.sendAsync("POST",t)},p.prototype.put=function(t){return this.sendAsync("PUT",t)},p.prototype.resolveAuthentication_=function(t){if(this.auth_)if(this.auth_.hasToken())t.header("Authorization","Bearer "+this.auth_.token());else{var e=this.auth_.username()+":"+this.auth_.password();t.header("Authorization","Basic "+i.encodeString(e))}},p.prototype.search=function(t,e,n){return this.getOrCreateQuery_().search(t,e,n),this},p.prototype.sendAsync=function(t,e){var n=this.customTransport_||u.instance().getDefault(),r=this.createClientRequest_(t,e);return n.send(r).then(this.decode)},p.socket=function(t){e=t},p.prototype.sort=function(t,e){return this.getOrCreateQuery_().sort(t,e),this},p.url=function(t){return new p(t).use(this.customTransport_)},p.prototype.url=function(){return this.url_},p.prototype.use=function(t){return this.customTransport_=t,this},p.prototype.watch=function(t,n){if("undefined"==typeof e)throw new Error("Socket.io client not loaded");var r=this.createClientRequest_("GET",t),i=new h(r.url());return i.addParametersFromMultiMap(r.params()),n=n||{forceNew:!0},n.url=i.getPathname()+i.getSearch(),n.path=n.path||i.getPathname(),e(i.getHost(),n)},p.prototype.wrapWithQuery_=function(t){return t instanceof a&&(t=s.filter(t)),t},p}();p.isContentTypeJson=function(t){var e=t.headers().get("content-type")||"";return 0===e.indexOf("application/json")},this.launchpad.Launchpad=p}.call(this),function(){var t=this.launchpad.Filter,e=this.launchpad.Geo,n=this.launchpad.Launchpad,r=this.launchpad.Query,i=this.launchpad.Range;window.Filter=t,window.Geo=e,window.Query=r,window.Range=i,window.Launchpad=n}.call(this)}).call(this);